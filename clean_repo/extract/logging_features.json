{"raw_content": "{\n  \"data\": {\n    \"extracted_information\": \"Supabase provides a comprehensive logging system with a Logs Explorer for tracing and debugging, with log retention varying by pricing plan. It offers specific logging interfaces for various products (API, Postgres, Realtime, Auth, Storage, Functions) and allows log search with regular expressions, export to spreadsheets, and SQL-based querying via BigQuery. For enterprise monitoring, key features include detailed API logs with Cloudflare metadata, configurable Postgres query auditing (via pgAudit), and client-side configurable Realtime connection logging. The Logs Explorer supports advanced SQL queries, including timestamp conversions and unnesting of nested arrays, with best practices for optimizing queries for large datasets.\",\n    \"specifications\": {\n      \"logs_explorer\": {\n        \"capabilities\": [\n          \"Log tracing\",\n          \"Debugging\"\n        ],\n        \"backend\": \"BigQuery\",\n        \"query_language\": \"SQL (supports all available BigQuery functions and operators)\",\n        \"log_sources_as_tables\": [\n          {\n            \"name\": \"auth_logs\",\n            \"description\": \"GoTrue server logs, containing authentication/authorization activity\"\n          },\n          {\n            \"name\": \"edge_logs\",\n            \"description\": \"Edge network logs, containing request and response metadata retrieved from Cloudflare\"\n          },\n          {\n            \"name\": \"function_edge_logs\",\n            \"description\": \"Edge network logs for only edge functions, containing network requests and response metadata for each execution\"\n          },\n          {\n            \"name\": \"function_logs\",\n            \"description\": \"Function internal logs, containing any console logging from within the edge function\"\n          },\n          {\n            \"name\": \"postgres_logs\",\n            \"description\": \"Postgres database logs, containing statements executed by connected applications\"\n          },\n          {\n            \"name\": \"realtime_logs\",\n            \"description\": \"Realtime server logs, containing client connection information\"\n          },\n          {\n            \"name\": \"storage_logs\",\n            \"description\": \"Storage server logs, containing object upload and retrieval information\"\n          }\n        ],\n        \"timestamp_handling\": {\n          \"storage_format\": \"TIMESTAMP (unix microsecond)\",\n          \"display_conversion\": \"Use DATETIME() function for ISO-8601 human-readable format\"\n        },\n        \"array_querying\": \"Use unnest() with cross join unnest() to query nested objects/arrays\",\n        \"limitations\": {\n          \"max_rows_per_run\": 1000\n        },\n        \"best_practices\": [\n          \"Include a filter over timestamp to avoid timeouts, especially for Enterprise customers with large retention.\",\n          \"Avoid selecting large nested objects; select individual values to prevent timeouts or memory errors.\"\n        ],\n        \"field_reference\": [\n          {\"path\": \"id\", \"type\": \"string\"},\n          {\"path\": \"timestamp\", \"type\": \"datetime\"},\n          {\"path\": \"event_message\", \"type\": \"string\"},\n          {\"path\": \"identifier\", \"type\": \"string\"},\n          {\"path\": \"metadata.load_balancer_redirect_identifier\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.asOrganization\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.asn\", \"type\": \"number\"},\n          {\"path\": \"metadata.request.cf.botManagement.corporateProxy\", \"type\": \"boolean\"},\n          {\"path\": \"metadata.request.cf.botManagement.detectionIds\", \"type\": \"number[]\"},\n          {\"path\": \"metadata.request.cf.botManagement.ja3Hash\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.botManagement.score\", \"type\": \"number\"},\n          {\"path\": \"metadata.request.cf.botManagement.staticResource\", \"type\": \"boolean\"},\n          {\"path\": \"metadata.request.cf.botManagement.verifiedBot\", \"type\": \"boolean\"},\n          {\"path\": \"metadata.request.cf.city\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.clientTcpRtt\", \"type\": \"number\"},\n          {\"path\": \"metadata.request.cf.clientTrustScore\", \"type\": \"number\"},\n          {\"path\": \"metadata.request.cf.colo\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.continent\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.country\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.edgeRequestKeepAliveStatus\", \"type\": \"number\"},\n          {\"path\": \"metadata.request.cf.httpProtocol\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.latitude\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.longitude\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.metroCode\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.postalCode\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.region\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.timezone\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsCipher\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsClientAuth.certPresented\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsClientAuth.certRevoked\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsClientAuth.certVerified\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsExportedAuthenticator.clientFinished\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsExportedAuthenticator.clientHandshake\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsExportedAuthenticator.serverFinished\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsExportedAuthenticator.serverHandshake\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.cf.tlsVersion\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.cf_connecting_ip\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.cf_ipcountry\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.cf_ray\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.host\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.referer\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.x_client_info\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.x_forwarded_proto\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.headers.x_real_ip\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.host\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.method\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.path\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.protocol\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.search\", \"type\": \"string\"},\n          {\"path\": \"metadata.request.url\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.cf_cache_status\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.cf_ray\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.content_location\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.content_range\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.content_type\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.date\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.sb_gateway_version\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.transfer_encoding\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.headers.x_kong_proxy_latency\", \"type\": \"string\"},\n          {\"path\": \"metadata.response.origin_time\", \"type\": \"number\"},\n          {\"path\": \"metadata.response.status_code\", \"type\": \"number\"}\n        ]\n      },\n      \"api_logs\": {\n        \"network_requests_responses\": true,\n        \"origin\": \"Cloudflare edge servers\",\n        \"metadata_inclusion\": \"Cloudflare metadata under metadata.request.cf.* fields\",\n        \"read_replicas_support\": {\n          \"enabled\": true,\n          \"filtering\": \"Automatic filtering between databases and API Load Balancer endpoint\"\n        },\n        \"load_balancer_redirection_identifier\": {\n          \"field_name\": \"Redirect Identifier\",\n          \"equivalent_log_field\": \"metadata.load_balancer_redirect_identifier\"\n        },\n        \"allowed_request_headers\": [\n          \"accept\", \"cf-connecting-ip\", \"cf-ipcountry\", \"host\", \"user-agent\",\n          \"x-forwarded-proto\", \"referer\", \"content-length\", \"x-real-ip\",\n          \"x-client-info\", \"x-forwarded-user-agent\", \"range\", \"prefer\"\n        ],\n        \"allowed_response_headers\": [\n          \"cf-cache-status\", \"cf-ray\", \"content-location\", \"content-range\",\n          \"content-type\", \"content-length\", \"date\", \"transfer-encoding\",\n          \"x-kong-proxy-latency\", \"x-kong-upstream-latency\", \"sb-gateway-mode\",\n          \"sb-gateway-version\"\n        ],\n        \"additional_request_metadata\": \"Recommended to use User-Agent header for device or version identification\"\n      },\n      \"postgres_query_logging\": {\n        \"extension_required\": \"pgAudit\",\n        \"configuration\": {\n          \"parameter\": \"pgaudit.log\",\n          \"description\": \"Determines classes of statements logged (refer pgAudit documentation for values)\",\n          \"scope_adjustment_recommendation\": \"Adjust scope to only relevant statements to reduce noise\",\n          \"role_for_http_apis_traffic\": \"authenticator\",\n          \"default_log_level\": \"log\",\n          \"disallowed_log_levels\": [\"error\", \"fatal\", \"panic\"]\n        },\n        \"raise_log_messages\": {\n          \"supported_levels\": [\"RAISE INFO\", \"RAISE NOTICE\", \"RAISE WARNING\", \"RAISE LOG\"],\n          \"visibility\": \"Shown if at or above configured logging level\",\n          \"sync_delay\": \"May take a few minutes\"\n        }\n      },\n      \"realtime_connection_logging\": {\n        \"default_state\": \"Disabled\",\n        \"enablement\": \"Include 'info' log_level parameter when instantiating Supabase client\"\n      },\n      \"general_log_management\": {\n        \"search_capability\": \"Simple regular expressions for keywords and patterns\",\n        \"export_capability\": \"Export and download log events matching query as spreadsheet\"\n      }\n    },\n    \"pricing\": {\n      \"log_retention\": \"Based on project's pricing plan\"\n    },\n    \"features\": [\n      \"Centralized Logs Explorer for tracing and debugging\",\n      \"Log retention varying by pricing plan\",\n      \"Product-specific logging interfaces (API, Postgres, Realtime, Auth, Storage, Functions)\",\n      \"Log search with regular expressions for keywords and patterns\",\n      \"Export and download log events as spreadsheets\",\n      \"Detailed API logs capturing network requests and responses for REST and GraphQL APIs\",\n      \"Automatic log filtering for Read Replicas and API Load Balancer\",\n      \"Identification of upstream database via 'Redirect Identifier' for load-balanced API requests\",\n      \"Inclusion of Cloudflare metadata in API logs for network-level insights\",\n      \"Configurable attachment of additional request metadata (e.g., via User-Agent header)\",\n      \"Postgres query logging through the pgAudit extension\",\n      \"Granular configuration of Postgres log content via pgaudit.log parameter\",\n      \"Support for logging custom messages using PostgreSQL's RAISE statements\",\n      \"Client-side configurable Realtime WebSocket connection and channel join logging\",\n      \"SQL-based querying of all log sources within the Logs Explorer (powered by BigQuery)\",\n      \"Access to multiple distinct log sources as queryable tables (auth, edge, function, postgres, realtime, storage logs)\",\n      \"Timestamp conversion functionality for human-readable log display (ISO-8601)\",\n      \"Ability to query deeply nested log data using SQL unnesting functions\",\n      \"Query optimization features including LIMIT clause for result set control\",\n      \"Best practices guidelines for efficient log querying, especially for large datasets or enterprise-level retention\"\n    },\n    \"statistics\": {\n      \"logs_explorer_max_rows_per_query_result\": 1000\n    },\n    \"temporal_info\": {\n      \"postgres_raise_messages_sync_time\": \"May take a few minutes for messages to appear in Postgres Logs\"\n    },\n    \"geographical_data\": {\n      \"api_log_origin\": \"Cloudflare edge servers\",\n      \"metadata_fields_related_to_location\": [\n        \"cf-ipcountry\", \"cf-city\", \"cf-region\", \"cf-continent\", \"cf-colo\",\n        \"cf-latitude\", \"cf-longitude\", \"cf-metroCode\", \"cf-postalCode\"\n      ]\n    },\n    \"references\": [\n      {\"description\": \"Supabase Pricing Page\", \"url\": \"https://supabase.com/pricing\"},\n      {\"description\": \"API Logs Dashboard\", \"url\": \"https://supabase.com/dashboard/project/_/logs/edge-logs\"},\n      {\"description\": \"Postgres Extensions Dashboard\", \"url\": \"https://supabase.com/dashboard/project/_/database/extensions\"},\n      {\"description\": \"pgAudit Official Website\", \"url\": \"https://www.pgaudit.org/\"},\n      {\"description\": \"pgAudit README (pgaudit.log values)\", \"url\": \"https://github.com/pgaudit/pgaudit/blob/master/README.md#pgauditlog\"},\n      {\"description\": \"Postgres Logs Dashboard\", \"url\": \"https://supabase.com/dashboard/project/_/logs/postgres-logs\"},\n      {\"description\": \"pgAudit README (log_level documentation)\", \"url\": \"https://github.com/pgaudit/pgaudit/blob/master/README.md#pgauditlog_level\"},\n      {\"description\": \"Logs Explorer Dashboard\", \"url\": \"https://supabase.com/dashboard/project/_/logs-explorer\"},\n      {\"description\": \"Google Cloud BigQuery Standard SQL Functions and Operators\", \"url\": \"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators\"},\n      {\"description\": \"Google Cloud BigQuery Standard SQL Timestamp Functions\", \"url\": \"https://cloud.google.com/bigquery/docs/reference/standard-sql/timestamp_functions#timestamp\"}\n    ]\n  }\n}"}