
> react_repo@0.0.0 test:coverage
> vitest run --coverage --exclude=**/integration/**


 RUN  v3.2.4 /workspace/ai-gym-platform
      Coverage enabled with v8


 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 938ms

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 1.94s

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 2.94s

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 3.94s

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 4.94s

 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 5.94s

 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 6.15s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 6.24s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 6.95s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]

 Test Files 0 passed (6)
      Tests 0 passed (0)
   Start at 19:37:59
   Duration 8.04s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts 0/13

 Test Files 0 passed (6)
      Tests 0 passed (13)
   Start at 19:37:59
   Duration 8.47s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts 1/13

 Test Files 0 passed (6)
      Tests 1 passed (13)
   Start at 19:37:59
   Duration 8.64s
 ✓ src/lib/__tests__/page-builder-types.test.ts (13 tests) 65ms


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 0/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 0/11

 Test Files 1 passed (6)
      Tests 13 passed (34)
   Start at 19:37:59
   Duration 9.05s


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 0/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 0/12
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 7/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 1/11

 Test Files 1 passed (6)
      Tests 21 passed (55)
   Start at 19:37:59
   Duration 9.24s


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 0/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 0/12
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 7/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 5/11

 Test Files 1 passed (6)
      Tests 25 passed (55)
   Start at 19:37:59
   Duration 9.34s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 0/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 0/12
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 8/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 10/11

 Test Files 1 passed (6)
      Tests 31 passed (55)
   Start at 19:37:59
   Duration 9.54s
 ✓ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx (10 tests) 314ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 1/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 1/12
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 11/11

 Test Files 2 passed (6)
      Tests 36 passed (55)
   Start at 19:37:59
   Duration 9.95s
 ✓ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx (11 tests) 507ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 8/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 6/12

 Test Files 3 passed (6)
      Tests 48 passed (55)
   Start at 19:37:59
   Duration 10.05s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 9/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 8/12

 Test Files 3 passed (6)
      Tests 51 passed (55)
   Start at 19:37:59
   Duration 10.15s
 ✓ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx (9 tests) 808ms
 ✓ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx (12 tests) 1185ms
   ✓ QuizBlock > renders quiz question and options  303ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10

 Test Files 5 passed (6)
      Tests 55 passed (65)
   Start at 19:37:59
   Duration 10.45s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 1/10

 Test Files 5 passed (6)
      Tests 56 passed (65)
   Start at 19:37:59
   Duration 10.75s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 7/10

 Test Files 5 passed (6)
      Tests 1 failed | 61 passed (65)
   Start at 19:37:59
   Duration 11.05s
 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx (10 tests | 1 failed) 394ms
   ✓ BlockRenderer > renders section header block correctly 197ms
   ✓ BlockRenderer > renders rich text block correctly 3ms
   ✓ BlockRenderer > renders placeholder for unimplemented block types 3ms
   ✓ BlockRenderer > renders placeholder for document block type 2ms
   ✓ BlockRenderer > renders placeholder for prompt block type 84ms
   ✓ BlockRenderer > renders placeholder for user_submission block type 2ms
   × BlockRenderer > handles unknown block types gracefully 8ms
     → Unable to find an element with the text: unknown_type. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="border-2 border-dashed border-red-300 rounded-lg p-8 text-center bg-red-50"
    >
      <div
        class="text-red-400 mb-2"
      >
        <svg
          class="w-8 h-8 mx-auto"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          />
        </svg>
      </div>
      <p
        class="text-red-600 text-sm font-medium"
      >
        Unknown Block Type: 
        unknown_type
      </p>
      <p
        class="text-red-500 text-xs mt-1"
      >
        This block type is not supported
      </p>
    </div>
  </div>
</body>
   ✓ BlockRenderer > passes through props correctly to block components 3ms
   ✓ BlockRenderer > handles missing content gracefully 87ms
   ✓ BlockRenderer > does not render when block is not visible 1ms

 Test Files 1 failed | 5 passed (6)
      Tests 1 failed | 64 passed (65)
   Start at 19:37:59
   Duration 12.05s

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/page-builder/__tests__/BlockRenderer.test.tsx > BlockRenderer > handles unknown block types gracefully
TestingLibraryElementError: Unable to find an element with the text: unknown_type. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="border-2 border-dashed border-red-300 rounded-lg p-8 text-center bg-red-50"
    >
      <div
        class="text-red-400 mb-2"
      >
        <svg
          class="w-8 h-8 mx-auto"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          />
        </svg>
      </div>
      <p
        class="text-red-600 text-sm font-medium"
      >
        Unknown Block Type: 
        unknown_type
      </p>
      <p
        class="text-red-500 text-xs mt-1"
      >
        This block type is not supported
      </p>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx:81:19
     79|     // The text is split across multiple elements, so check for both p…
     80|     expect(screen.getByText(/Unknown Block Type:/)).toBeInTheDocument()
     81|     expect(screen.getByText('unknown_type')).toBeInTheDocument()
       |                   ^
     82|   })
     83| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed | 5 passed (6)
      Tests  1 failed | 64 passed (65)
   Start at  19:37:58
   Duration  12.99s (transform 2.80s, setup 12.34s, collect 5.41s, tests 3.27s, environment 12.52s, prepare 6.10s)

