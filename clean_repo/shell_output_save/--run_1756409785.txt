
> react_repo@0.0.0 test
> vitest --run


 RUN  v3.2.4 /workspace/ai-gym-platform


 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 4.33s

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 5.30s

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 6.29s

 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 6.89s

 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 7.20s

 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 7.30s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 7.60s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 7.90s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 8.30s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 9.39s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts [queued]

 Test Files 0 passed (8)
      Tests 0 passed (0)
   Start at 19:36:11
   Duration 10.31s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/lib/__tests__/page-builder-types.test.ts [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts 0/12

 Test Files 0 passed (8)
      Tests 0 passed (12)
   Start at 19:36:11
   Duration 10.52s
 ✓ src/lib/__tests__/page-builder-types.test.ts (13 tests) 89ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]
 ❯ src/test/integration/supabase-edge-functions.test.ts 1/12

 Test Files 1 passed (8)
      Tests 14 passed (25)
   Start at 19:36:11
   Duration 10.70s
 ✓ src/test/integration/supabase-edge-functions.test.ts (12 tests) 195ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 0/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx [queued]
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 2 passed (8)
      Tests 25 passed (35)
   Start at 19:36:11
   Duration 10.90s


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx 0/10
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 0/11
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 2 passed (8)
      Tests 25 passed (46)
   Start at 19:36:11
   Duration 11.41s
 ✓ src/components/page-builder/blocks/__tests__/RichTextBlock.test.tsx (10 tests) 510ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx 10/11
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 3 passed (8)
      Tests 40 passed (46)
   Start at 19:36:11
   Duration 11.71s
 ✓ src/components/page-builder/blocks/__tests__/SectionHeaderBlock.test.tsx (11 tests) 414ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 1/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 0/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 4 passed (8)
      Tests 42 passed (67)
   Start at 19:36:11
   Duration 12.11s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 2/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 0/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 4 passed (8)
      Tests 43 passed (67)
   Start at 19:36:11
   Duration 12.20s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 3/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 1/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 4 passed (8)
      Tests 45 passed (67)
   Start at 19:36:11
   Duration 12.39s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx 5/9
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 2/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 4 passed (8)
      Tests 48 passed (67)
   Start at 19:36:11
   Duration 12.59s
 ✓ src/components/page-builder/blocks/__tests__/AutomationsContentBlock.test.tsx (9 tests) 808ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 4/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 5 passed (8)
      Tests 54 passed (67)
   Start at 19:36:11
   Duration 12.69s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx [queued]
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 5/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 5 passed (8)
      Tests 55 passed (67)
   Start at 19:36:11
   Duration 12.80s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 5/12
 ❯ src/test/integration/page-builder-editor.test.tsx [queued]

 Test Files 5 passed (8)
      Tests 55 passed (77)
   Start at 19:36:11
   Duration 12.90s

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10
 ❯ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx 8/12
 ❯ src/test/integration/page-builder-editor.test.tsx 0/13

 Test Files 5 passed (8)
      Tests 58 passed (90)
   Start at 19:36:11
   Duration 13.00s
stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > loads and displays page content correctly
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10
 ❯ src/test/integration/page-builder-editor.test.tsx 1/13

 Test Files 6 passed (8)
      Tests 1 failed | 62 passed (90)
   Start at 19:36:11
   Duration 13.20s
 ✓ src/components/page-builder/blocks/__tests__/QuizBlock.test.tsx (12 tests) 1296ms
   ✓ QuizBlock > renders quiz question and options  390ms

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10
 ❯ src/test/integration/page-builder-editor.test.tsx 1/13

 Test Files 6 passed (8)
      Tests 1 failed | 62 passed (90)
   Start at 19:36:11
   Duration 13.20s
stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > handles loading state
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > handles error state when page fails to load
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > adds new block to the page
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > deletes block from the page
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > reorders blocks via drag and drop
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 0/10
 ❯ src/test/integration/page-builder-editor.test.tsx 1/13

 Test Files 6 passed (8)
      Tests 1 failed | 62 passed (90)
   Start at 19:36:11
   Duration 13.20s
stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > saves page successfully
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > handles save errors gracefully
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > auto-saves changes periodically
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Editing > enters and exits edit mode for blocks
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Editing > cancels editing on Escape key
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Validation and Error Handling > validates required fields before saving
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Validation and Error Handling > shows unsaved changes warning when navigating away
The above error occurred in the <PageBuilderEditor> component:

    at PageBuilderEditor (/workspace/ai-gym-platform/src/pages/PageBuilderEditor.tsx:28:53)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.


 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 6/10

 Test Files 1 failed | 6 passed (8)
      Tests 13 failed | 68 passed (90)
   Start at 19:36:11
   Duration 13.40s
 ❯ src/test/integration/page-builder-editor.test.tsx (13 tests | 13 failed) -274409601ms
   × Page Builder Integration Tests > Page Loading and Display > loads and displays page content correctly 103ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Page Loading and Display > handles loading state 2ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Page Loading and Display > handles error state when page fails to load 2ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Block Management > adds new block to the page 91ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Block Management > deletes block from the page 2ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Block Management > reorders blocks via drag and drop 3ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Page Saving > saves page successfully 2ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Page Saving > handles save errors gracefully 2ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Page Saving > auto-saves changes periodically -274409811ms
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Block Editing > enters and exits edit mode for blocks
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Block Editing > cancels editing on Escape key
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Validation and Error Handling > validates required fields before saving
     → useAuth must be used within an AuthProvider
   × Page Builder Integration Tests > Validation and Error Handling > shows unsaved changes warning when navigating away
     → useAuth must be used within an AuthProvider

 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx 6/10

 Test Files 1 failed | 6 passed (8)
      Tests 13 failed | 68 passed (90)
   Start at 19:36:11
   Duration 13.40s
 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx (10 tests | 1 failed) 415ms
   ✓ BlockRenderer > renders section header block correctly 292ms
   ✓ BlockRenderer > renders rich text block correctly 7ms
   ✓ BlockRenderer > renders placeholder for unimplemented block types 6ms
   ✓ BlockRenderer > renders placeholder for document block type 4ms
   ✓ BlockRenderer > renders placeholder for prompt block type 3ms
   ✓ BlockRenderer > renders placeholder for user_submission block type 79ms
   × BlockRenderer > handles unknown block types gracefully 9ms
     → Unable to find an element with the text: unknown_type. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="border-2 border-dashed border-red-300 rounded-lg p-8 text-center bg-red-50"
    >
      <div
        class="text-red-400 mb-2"
      >
        <svg
          class="w-8 h-8 mx-auto"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          />
        </svg>
      </div>
      <p
        class="text-red-600 text-sm font-medium"
      >
        Unknown Block Type: 
        unknown_type
      </p>
      <p
        class="text-red-500 text-xs mt-1"
      >
        This block type is not supported
      </p>
    </div>
  </div>
</body>
   ✓ BlockRenderer > passes through props correctly to block components 5ms
   ✓ BlockRenderer > handles missing content gracefully 3ms
   ✓ BlockRenderer > does not render when block is not visible 2ms

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Tests 14 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > loads and displays page content correctly
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > handles loading state
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Loading and Display > handles error state when page fails to load
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > adds new block to the page
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > deletes block from the page
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Management > reorders blocks via drag and drop
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > saves page successfully
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > handles save errors gracefully
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Page Saving > auto-saves changes periodically
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Editing > enters and exits edit mode for blocks
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Block Editing > cancels editing on Escape key
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Validation and Error Handling > validates required fields before saving
 FAIL  src/test/integration/page-builder-editor.test.tsx > Page Builder Integration Tests > Validation and Error Handling > shows unsaved changes warning when navigating away
Error: useAuth must be used within an AuthProvider
 ❯ useAuth src/contexts/AuthContext.tsx:18:11
     16|   const context = useContext(AuthContext)
     17|   if (context === undefined) {
     18|     throw new Error('useAuth must be used within an AuthProvider')
       |           ^
     19|   }
     20|   return context
 ❯ PageBuilderEditor src/pages/PageBuilderEditor.tsx:31:20
 ❯ renderWithHooks node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.#callDispatchEventListeners node_modules/.pnpm/happy-dom@18.0.1/node_modules/happy-dom/src/event/EventTarget.ts:289:42
 ❯ HTMLUnknownElement.dispatchEvent node_modules/.pnpm/happy-dom@18.0.1/node_modules/happy-dom/src/event/EventTarget.ts:136:35
 ❯ HTMLUnknownElement.#goThroughDispatchEventPhases node_modules/.pnpm/happy-dom@18.0.1/node_modules/happy-dom/src/event/EventTarget.ts:198:33
 ❯ HTMLUnknownElement.dispatchEvent node_modules/.pnpm/happy-dom@18.0.1/node_modules/happy-dom/src/event/EventTarget.ts:129:38

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/14]⎯

 FAIL  src/components/page-builder/__tests__/BlockRenderer.test.tsx > BlockRenderer > handles unknown block types gracefully
TestingLibraryElementError: Unable to find an element with the text: unknown_type. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="border-2 border-dashed border-red-300 rounded-lg p-8 text-center bg-red-50"
    >
      <div
        class="text-red-400 mb-2"
      >
        <svg
          class="w-8 h-8 mx-auto"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          />
        </svg>
      </div>
      <p
        class="text-red-600 text-sm font-medium"
      >
        Unknown Block Type: 
        unknown_type
      </p>
      <p
        class="text-red-500 text-xs mt-1"
      >
        This block type is not supported
      </p>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/page-builder/__tests__/BlockRenderer.test.tsx:81:19
     79|     // The text is split across multiple elements, so check for both p…
     80|     expect(screen.getByText(/Unknown Block Type:/)).toBeInTheDocument()
     81|     expect(screen.getByText('unknown_type')).toBeInTheDocument()
       |                   ^
     82|   })
     83| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/14]⎯


 Test Files  2 failed | 6 passed (8)
      Tests  14 failed | 76 passed (90)
   Start at  19:36:11
   Duration  13.53s (transform 4.56s, setup 21.85s, collect 11.38s, tests 3.73s, environment 22.93s, prepare 8.61s)

